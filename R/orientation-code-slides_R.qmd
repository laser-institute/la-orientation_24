---
title: "LASER Learning Lab Orientation"
subtitle: "LA Workflow Code in R"
format:
  revealjs: 
    slide-number: c/t
    progress: true
    chalkboard: 
      buttons: false
    preview-links: auto
    logo: img/LASERLogoB.png
    theme: [default, css/laser.scss]
    width: 1920
    height: 1080
    margin: 0.05
    footer: <a href=https://www.go.ncsu.edu/laser-institute>go.ncsu.edu/laser-institute
resources:
  - demo.pdf
editor: visual
---

## Agenda

### R code-Along

::: columns
::: {.column width="60%"}

Data-Intensive Research Workflow
 
- Prepare 
- Wrangle 
- Explore 
- Model
- Communicate
:::

::: {.column width="40%"}
![](img/laser-cycle.png){.absolute right="50" width="1000"}

:::
:::


::: notes
Krumm, A., Means, B., & Bienkowski, M. (2018). [Learning Analytics Goes to School.](https://www.routledge.com/Learning-Analytics-Goes-to-School-A-Collaborative-Approach-to-Improving/Krumm-Means-Bienkowski/p/book/9781138121836). Routledge.

:::

## Prepare

::: columns
::: {.column width="50%"}

**The Study**
  
The setting of this study was a public provider of individual online courses in a Midwestern state. Data was collected from two semesters of five online science courses and aimed to understand students motivation.
:::


::: {.column width="40%"}

**Research Question**

Is there a relationship between the time students spend in a learning management system and their final course grade?

:::

:::

## The Tools of Reproducible Research

::: panel-tabset

# Packages

Sometimes referred to as "libraries", packages are shareable collections of R code that can contain functions, data, and/or documentation.

```{r, echo=TRUE}
# Load the {tidyverse} package

library(tidyverse)

# How to install the package if not already installed
# install.packages("tidyverse")
# Note this code is commented out so it will not run
```

# "Read" Data

The {readr} tidyverse package has several functions like `read_csv()` for importing rectangular data from delimited text files such as comma-separated values (CSV), a preferred file format for reproducible research. 

```{r, echo = TRUE, message = FALSE}
# "read" into your R environment the sci-online-classes.csv file 
# stored in the data folder of your R project and
# save as a new data "object" named sci_data 

sci_data <- read_csv("data/sci-online-classes.csv", 
                     col_names = TRUE)
```

R has also packages for proprietary data formats like .xls, .sas, and .dat. 

# Inspect Data

You should now see a new data "object" named `sci_data` saved in your Environment pane. Try clicking on it and see what happens!

Now let's "print" the output to our Console to view another way:

```{r, echo = TRUE, message = FALSE, results = FALSE}
# print data to console to view

sci_data
```

What variables do you think might help us answer our research question? 

# R Syntax

The R language can express complex ideas like in this simple "sentence": 

`sci_data <- read_csv("data/sci-online-classes.csv", col_names = TRUE)`

- *Functions* are like verbs: `read_csv()`
- *Objects* are the nouns: `read_csv("data/sci-online-classes.csv")`
- *Arguments* are like adverbs: `read_csv("data/sci-online-classes.csv", col_names = TRUE)`
-	*Operators* are like “punctuation” `sci_data <- read_csv("data/sci-online-classes.csv", col_names = TRUE)`

:::

## Wrangle

Data wrangling is the process of cleaning, ["tidying"](https://r4ds.had.co.nz/tidy-data.html?q=tidy%20data#tidy-data-1), and transforming data. In Learning Analytics, it often involves merging (or joining) data from multiple sources. 

Since we are interested the relationship between time spent in an online course and final grades, let's `select()` the `FinalGradeCEMS` and `TimeSpent` from `sci_data`.

```{r, echo=TRUE, eval = FALSE}
# select student_id and course_id and save as 

sci_data |> 
  select(FinalGradeCEMS, TimeSpent)
```

Note the use of a the powerful `|>` operator called a **pipe**, which are used for combining a sequence of functions or processes. 

:::

## Explore

::: panel-tabset

# EDA

Exploratory data analysis involves processes of **describing** your data numerically or graphically and often involves: 

- **calculating** summary statistics like frequency, means and standard deviations

- **visualizing** your data through charts and graphs 

EDA can be used to help answer research questions or generate new questions about your data, discover relationships between and among variables, and create new variables (i.e., feature engineering) for data modeling.

# Graph-template

The [{ggplot2}](https://ggplot2.tidyverse.org) package follows a common [graphing workflow](https://r4ds.had.co.nz/data-visualisation.html?q=template#a-graphing-template) for making graphs. To make a graph, you simply:

1. Start the graph with `ggplot()` function and include your data as an argument;

2. "Add" elements to the graph using the `+` operator `a geom_()` function;

3. Select variables to graph on each axis with the `aes()` argument.

A common graphing template is as simple as two lines of code: 
```{r, echo=TRUE, eval=FALSE}
ggplot(<DATA>) + 
  <GEOM_FUNCTION>(aes(x = <VARIABLE1>, y = <VARIABLE2>))
```

# Our First Graph

Scatterplots use the point **geom**, i.e., the `geom_point()` function, and are most useful for displaying the relationship between two continuous variables.

```{r, echo=TRUE, message=FALSE, fig.show='hide', warning=FALSE}
# make a scatter plot showing time spent and final grades
ggplot(sci_data) +
  geom_point(aes(x = TimeSpent, y = FinalGradeCEMS))
```

# Interpret graph

::: columns
::: {.column width="50%"}

Hopefully your scatterplot looks like something like the one to the right. 

*How would you interpret this graph?*
:::

::: {.column width="50%"}
```{r, echo=FALSE, message=FALSE, fig.width = 7, fig.height = 5.5, warning=FALSE}
ggplot(sci_data) +
  geom_point(aes(x = TimeSpent, y = FinalGradeCEMS))
```
:::

:::

:::

## Model

::: panel-tabset

Modeling involves a simple low-dimensional summary of a dataset. According to Krumm et al. (2018), there are two general types of modeling approaches: 
- **Unsupervised** learning algorithms can be used to understand the structure of one’s dataset. 
- **Supervised** models, on the other hand, help to quantify relationships between features and a known outcome.

Ideally, a good model will separate true “signals” (i.e. patterns generated by the phenomenon of interest) from the “noise” (i.e. random variation that you’re not interested in).

# A Simple Model

We'll dive much deeper into modeling in subsequent learning labs, but for now let's see if there is a statistically significant relationship between students' final grades, `FinaGradeCEMS`, and the `TimeSpent` in the LMS:

```{r, echo=TRUE, results = FALSE, message=FALSE, eval=TRUE}
# use a simple linear regression model to predict final course grades
m1 <- lm(FinalGradeCEMS ~ TimeSpent, data = sci_data)

summary(m1)
```

# Interpret

```{r, echo=FALSE, message=FALSE, eval=TRUE}

m1 <- lm(FinalGradeCEMS ~ TimeSpent, data = sci_data)

summary(m1)
```

:::

## Communicate

::: panel-tabset

# Data Products

Krumm et al. (2018) have outlined the following 3-step process for communicating finding with education stakeholders: 

1. **Select.** Selecting analyses that are most important and useful to an intended audience, as well as selecting a format for displaying that info (e.g. chart, table).

2. **Polish.** Refining or polishing data products, by adding or editing titles, labels, and notations and by working with colors and shapes to highlight key points.

3. **Narrate.**  Writing a narrative pairing a data product with its related research question and describing how best to interpret and use the data product. 

# Dashboards

<img src="img/dashboards.png" height="350px"/>

[https://quarto.org/docs/dashboards/](https://quarto.org/docs/dashboards/)


# Websites

<img src="img/websites.png" height="350px"/>

[https://quarto.org/docs/websites/](https://quarto.org/docs/websites/)

# Books

<img src="img/books.png" height="350px"/>
]

[https://quarto.org/docs/books/](https://quarto.org/docs/books/)

# ...and more

- [**BLOGS** - https://quarto.org/docs/websites/website-blog.html](https://quarto.org/docs/websites/website-blog.html)

- [**Manuscripts** - https://quarto.org/docs/manuscripts/](https://quarto.org/docs/manuscripts/)

- [**REVEAL JS** - https://quarto.org/docs/presentations/revealjs/](https://quarto.org/docs/presentations/revealjs/)

- [**Powerpoint** - https://quarto.org/docs/presentations/powerpoint.html](https://quarto.org/docs/presentations/powerpoint.html)


:::

# What's Next?

::: columns
::: {.column width="50%"}
**Our First LASER Badge!**
Next you will complete an interactive "case study" which is a key component to each learning lab.  

Navigate to the Files tab and open the following file:

`laser-lab-case-study.RMD` **Change this to the new one**
:::

::: {.column width="50%"}
**Essential Readings**

- [Reproducible Research with R and RStudio](https://github.com/christophergandrud/Rep-Res-Book) (chapters 1 & 2)

- [Learning Analytics Goes to School](https://www.routledge.com/Learning-Analytics-Goes-to-School-A-Collaborative-Approach-to-Improving/Krumm-Means-Bienkowski/p/book/9781138121836) (pages 28 - 58)

- [Data Science in Education Using R](https://datascienceineducation.com)

- [R for Data Science](https://r4ds.had.co.nz/index.html)  


:::

:::

## Acknowledgements

::: columns
::: {.column width="20%"}
![](img/nsf.jpg){fig-align="center" width="80%"}
:::

::: {.column width="80%"}
This work was supported by the National Science Foundation grants DRL-2025090 and DRL-2321128 (ECR:BCSER). Any opinions, findings, and conclusions expressed in this material are those of the authors and do not necessarily reflect the views of the National Science Foundation.
:::
:::

