<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.550">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Daria Smyslova">
<meta name="dcterms.date" content="2024-03-05">

<title>Intro Lab</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="laser-intro lab in python_files/libs/clipboard/clipboard.min.js"></script>
<script src="laser-intro lab in python_files/libs/quarto-html/quarto.js"></script>
<script src="laser-intro lab in python_files/libs/quarto-html/popper.min.js"></script>
<script src="laser-intro lab in python_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="laser-intro lab in python_files/libs/quarto-html/anchor.min.js"></script>
<link href="laser-intro lab in python_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="laser-intro lab in python_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="laser-intro lab in python_files/libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="laser-intro lab in python_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="laser-intro lab in python_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="laser-intro lab in python_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="laser-intro lab in python_files/libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">0. INTRODUCTION</a></li>
  <li><a href="#prepare" id="toc-prepare" class="nav-link" data-scroll-target="#prepare">1. PREPARE</a>
  <ul>
  <li><a href="#research-question" id="toc-research-question" class="nav-link" data-scroll-target="#research-question">Research Question</a></li>
  <li><a href="#packages" id="toc-packages" class="nav-link" data-scroll-target="#packages">Packages 📦</a></li>
  <li><a href="#loading-or-reading-in-data" id="toc-loading-or-reading-in-data" class="nav-link" data-scroll-target="#loading-or-reading-in-data">Loading (or reading in) data</a>
  <ul class="collapse">
  <li><a href="#your-turn" id="toc-your-turn" class="nav-link" data-scroll-target="#your-turn"><strong>👉 Your Turn</strong> <strong>⤵</strong></a></li>
  <li><a href="#data-types" id="toc-data-types" class="nav-link" data-scroll-target="#data-types">Data Types</a></li>
  <li><a href="#your-turn-1" id="toc-your-turn-1" class="nav-link" data-scroll-target="#your-turn-1"><strong>👉 Your Turn</strong> <strong>⤵</strong></a></li>
  <li><a href="#your-turn-2" id="toc-your-turn-2" class="nav-link" data-scroll-target="#your-turn-2"><strong>👉 Your Turn</strong> <strong>⤵</strong></a></li>
  <li><a href="#your-turn-3" id="toc-your-turn-3" class="nav-link" data-scroll-target="#your-turn-3"><strong>👉 Your Turn</strong> <strong>⤵</strong></a></li>
  </ul></li>
  </ul></li>
  <li><a href="#wrangle" id="toc-wrangle" class="nav-link" data-scroll-target="#wrangle">2. WRANGLE</a>
  <ul>
  <li><a href="#selecting-variables" id="toc-selecting-variables" class="nav-link" data-scroll-target="#selecting-variables">Selecting variables</a></li>
  <li><a href="#cleaning-data" id="toc-cleaning-data" class="nav-link" data-scroll-target="#cleaning-data">Cleaning data</a></li>
  <li><a href="#handling-missing-values" id="toc-handling-missing-values" class="nav-link" data-scroll-target="#handling-missing-values">Handling Missing Values</a>
  <ul class="collapse">
  <li><a href="#drop-missing-values" id="toc-drop-missing-values" class="nav-link" data-scroll-target="#drop-missing-values">Drop missing values</a></li>
  <li><a href="#substitute-with-column-means" id="toc-substitute-with-column-means" class="nav-link" data-scroll-target="#substitute-with-column-means">Substitute with column means</a></li>
  </ul></li>
  <li><a href="#filtering-variables" id="toc-filtering-variables" class="nav-link" data-scroll-target="#filtering-variables">Filtering variables</a>
  <ul class="collapse">
  <li><a href="#your-turn-4" id="toc-your-turn-4" class="nav-link" data-scroll-target="#your-turn-4"><strong>👉 Your Turn</strong> <strong>⤵</strong></a></li>
  </ul></li>
  </ul></li>
  <li><a href="#explore" id="toc-explore" class="nav-link" data-scroll-target="#explore">3. EXPLORE</a>
  <ul>
  <li><a href="#summary-statistics" id="toc-summary-statistics" class="nav-link" data-scroll-target="#summary-statistics">Summary Statistics</a>
  <ul class="collapse">
  <li><a href="#your-turn-5" id="toc-your-turn-5" class="nav-link" data-scroll-target="#your-turn-5"><strong>👉 Your Turn</strong> <strong>⤵</strong></a></li>
  </ul></li>
  <li><a href="#data-visualization" id="toc-data-visualization" class="nav-link" data-scroll-target="#data-visualization">Data Visualization</a>
  <ul class="collapse">
  <li><a href="#the-graphing-workflow" id="toc-the-graphing-workflow" class="nav-link" data-scroll-target="#the-graphing-workflow">The Graphing Workflow</a></li>
  <li><a href="#your-turn-6" id="toc-your-turn-6" class="nav-link" data-scroll-target="#your-turn-6"><strong>👉 Your Turn</strong> <strong>⤵</strong></a></li>
  <li><a href="#scatterplots" id="toc-scatterplots" class="nav-link" data-scroll-target="#scatterplots">Scatterplots</a></li>
  <li><a href="#your-turn-7" id="toc-your-turn-7" class="nav-link" data-scroll-target="#your-turn-7"><strong>👉 Your Turn</strong> <strong>⤵</strong></a></li>
  </ul></li>
  </ul></li>
  <li><a href="#model" id="toc-model" class="nav-link" data-scroll-target="#model">4. MODEL</a>
  <ul>
  <li><a href="#your-turn-8" id="toc-your-turn-8" class="nav-link" data-scroll-target="#your-turn-8"><strong>👉 Your Turn</strong> <strong>⤵</strong></a></li>
  <li><a href="#your-turn-9" id="toc-your-turn-9" class="nav-link" data-scroll-target="#your-turn-9"><strong>👉 Your Turn</strong> <strong>⤵</strong></a></li>
  </ul></li>
  <li><a href="#communicate" id="toc-communicate" class="nav-link" data-scroll-target="#communicate">5. COMMUNICATE</a></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Intro Lab</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Daria Smyslova </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">March 5, 2024</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">0. INTRODUCTION</h2>
<p>Welcome to your first LASER Learning Lab Case Study! The case study activities included in each learning lab demonstrate how key Learning Analytics (LA) techniques featured in exemplary STEM education research studies can be implemented with Python. Case studies also provide a holistic setting to explore important foundational topics integral to Learning Analytics such as reproducible research, use of APIs, and ethical use of educational data.</p>
<p>In this interactive coding case study, we’ll focus on the following <strong>Data Intensive Workflow</strong>:</p>
<ol type="1">
<li>Reading data in Python (in the <strong>Prepare</strong> section)</li>
<li>Preparing and “wrangling” data in a tabular (think spreadsheet!) format (in the <strong>Wrangle</strong> section)</li>
<li>Creating some basic plots (in the <strong>Explore</strong> section)</li>
<li>Running a model - specifically, a simple regression model (in the <strong>Model</strong> section)</li>
<li>Finally, creating a reproducible report of your work you can share with others (in the <strong>Communicate</strong> section)</li>
</ol>
<p>(“Learning Analytics Goes to School” <span class="citation" data-cites="krumm2018">[@krumm2018]</span>).</p>
<p>What you are working in now is an Jupiter Notebook file as indicated by the .ipynb file name extension. Here you can read explanation and instructions, and run code in chunks by running each code cell.</p>
<p>Now, let’s get started!</p>
</section>
<section id="prepare" class="level2">
<h2 class="anchored" data-anchor-id="prepare">1. PREPARE</h2>
<p>First, we need to define and refine a research question and develop an understanding of where your data comes from [@krumm2018]. This part of the process also involves setting up a reproducible research environment [@gandrud2021] so your work can be understood and replicated by other researchers. For now, we’ll focus on just a few parts of this process.</p>
<section id="research-question" class="level3">
<h3 class="anchored" data-anchor-id="research-question">Research Question</h3>
<p>In this case study, we’ll be working with data coming from an unpublished research study, which utilized a number of different data sources to understand high school students’ motivation within the context of online courses. For the purpose of this case study, our analysis will be driven by the following research question:</p>
<p><em>Is there a relationship between the time students spend on a course (as measured through their learning management system) and their final course grade?</em></p>
</section>
<section id="packages" class="level3">
<h3 class="anchored" data-anchor-id="packages">Packages 📦</h3>
<p><strong>Packages</strong> - sometimes referred to as libraries, are shareable collections of code that can contain functions, data, and/or documentation and extend the functionality of the coding language.</p>
<p>We will work with a dataset that was obtained from a learning management system (LMS). We will use libraries <strong>pandas</strong> (<a href="https://colab.research.google.com/corgiredirector?site=https%3A%2F%2Fpandas.pydata.org%2Fdocs%2F">https://pandas.pydata.org/docs/</a>) to read and analyze the data. We will also be using <strong>matptlotlib</strong> (<a href="https://colab.research.google.com/corgiredirector?site=https%3A%2F%2Fmatplotlib.org%2Fstable%2Fusers%2Findex.html">https://matplotlib.org/stable/users/index.html</a>) package to visualize data distribution, and finally we will use <strong>scikit-learn</strong> (<a href="https://colab.research.google.com/corgiredirector?site=https%3A%2F%2Fscikit-learn.org%2Fstable%2F">https://scikit-learn.org/stable/</a>) and numpy (<a href="https://colab.research.google.com/corgiredirector?site=https%3A%2F%2Fnumpy.org%2Fdevdocs%2F">https://numpy.org/devdocs/</a>) to run our regression model.</p>
<p>Click the arrow to execute your code in a cell below.</p>
<div id="6efeb1f5" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">#First we import necessary libraries</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.linear_model <span class="im">import</span> LinearRegression</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="loading-or-reading-in-data" class="level3">
<h3 class="anchored" data-anchor-id="loading-or-reading-in-data">Loading (or reading in) data</h3>
<p>The data we’ll explore in this case study were originally collected for a research study, which utilized a number of different data sources to understand students’ course-related motivation. These courses were designed and taught by instructors through a state-wide online course provider designed to supplement – but not replace – students’ enrollment in their local school.</p>
<p>The data used in this case study has already been “wrangled” quite a bit, but the original datasets included:</p>
<ol type="1">
<li><p>A self-report survey assessing three aspects of students’ motivation</p></li>
<li><p>Log-trace data, such as data output from the learning management system (LMS)</p></li>
<li><p>Discussion board data</p></li>
<li><p>Academic achievement data</p></li>
</ol>
<p>To know more, see Chapter 7 of <a href="https://colab.research.google.com/corgiredirector?site=https%3A%2F%2Fdatascienceineducation.com%2Fc07.html%23data-sources"><em>Data Science in Education Using R</em></a> [@estrellado2020e].</p>
<p>Next, we’ll load our data - specifically, a CSV (comma separated value) text file, the kind that you can export from Microsoft Excel or Google Sheets - into pandas, using the <code>pd.read_csv()</code> function in the next chunk.</p>
<p><strong>Note:</strong> by manipulating data in pandas we do not change the original file.</p>
<div id="e74ed1fe" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co">#read sci-online-classes.csv to sci_data and display the output</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>sci_data <span class="op">=</span> pd.read_csv(<span class="st">"/cloud/project/data/sci-online-classes.csv"</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>sci_data</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="2">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">student_id</th>
<th data-quarto-table-cell-role="th">course_id</th>
<th data-quarto-table-cell-role="th">total_points_possible</th>
<th data-quarto-table-cell-role="th">total_points_earned</th>
<th data-quarto-table-cell-role="th">percentage_earned</th>
<th data-quarto-table-cell-role="th">subject</th>
<th data-quarto-table-cell-role="th">semester</th>
<th data-quarto-table-cell-role="th">section</th>
<th data-quarto-table-cell-role="th">Gradebook_Item</th>
<th data-quarto-table-cell-role="th">Grade_Category</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">q7</th>
<th data-quarto-table-cell-role="th">q8</th>
<th data-quarto-table-cell-role="th">q9</th>
<th data-quarto-table-cell-role="th">q10</th>
<th data-quarto-table-cell-role="th">TimeSpent</th>
<th data-quarto-table-cell-role="th">TimeSpent_hours</th>
<th data-quarto-table-cell-role="th">TimeSpent_std</th>
<th data-quarto-table-cell-role="th">int</th>
<th data-quarto-table-cell-role="th">pc</th>
<th data-quarto-table-cell-role="th">uv</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>43146</td>
<td>FrScA-S216-02</td>
<td>3280</td>
<td>2220</td>
<td>0.676829</td>
<td>FrScA</td>
<td>S216</td>
<td>2</td>
<td>POINTS EARNED &amp; TOTAL COURSE POINTS</td>
<td>NaN</td>
<td>...</td>
<td>5.0</td>
<td>5.0</td>
<td>4.0</td>
<td>5.0</td>
<td>1555.1667</td>
<td>25.919445</td>
<td>-0.180515</td>
<td>5.0</td>
<td>4.5</td>
<td>4.333333</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>44638</td>
<td>OcnA-S116-01</td>
<td>3531</td>
<td>2672</td>
<td>0.756726</td>
<td>OcnA</td>
<td>S116</td>
<td>1</td>
<td>ATTEMPTED</td>
<td>NaN</td>
<td>...</td>
<td>4.0</td>
<td>5.0</td>
<td>4.0</td>
<td>4.0</td>
<td>1382.7001</td>
<td>23.045002</td>
<td>-0.307803</td>
<td>4.2</td>
<td>3.5</td>
<td>4.000000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>47448</td>
<td>FrScA-S216-01</td>
<td>2870</td>
<td>1897</td>
<td>0.660976</td>
<td>FrScA</td>
<td>S216</td>
<td>1</td>
<td>POINTS EARNED &amp; TOTAL COURSE POINTS</td>
<td>NaN</td>
<td>...</td>
<td>4.0</td>
<td>5.0</td>
<td>3.0</td>
<td>5.0</td>
<td>860.4335</td>
<td>14.340558</td>
<td>-0.693260</td>
<td>5.0</td>
<td>4.0</td>
<td>3.666667</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>47979</td>
<td>OcnA-S216-01</td>
<td>4562</td>
<td>3090</td>
<td>0.677335</td>
<td>OcnA</td>
<td>S216</td>
<td>1</td>
<td>POINTS EARNED &amp; TOTAL COURSE POINTS</td>
<td>NaN</td>
<td>...</td>
<td>4.0</td>
<td>5.0</td>
<td>5.0</td>
<td>5.0</td>
<td>1598.6166</td>
<td>26.643610</td>
<td>-0.148447</td>
<td>5.0</td>
<td>3.5</td>
<td>5.000000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>48797</td>
<td>PhysA-S116-01</td>
<td>2207</td>
<td>1910</td>
<td>0.865428</td>
<td>PhysA</td>
<td>S116</td>
<td>1</td>
<td>POINTS EARNED &amp; TOTAL COURSE POINTS</td>
<td>NaN</td>
<td>...</td>
<td>4.0</td>
<td>4.0</td>
<td>NaN</td>
<td>3.0</td>
<td>1481.8000</td>
<td>24.696667</td>
<td>-0.234663</td>
<td>3.8</td>
<td>3.5</td>
<td>3.500000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">598</td>
<td>97265</td>
<td>PhysA-S216-01</td>
<td>3101</td>
<td>2078</td>
<td>0.670106</td>
<td>PhysA</td>
<td>S216</td>
<td>1</td>
<td>POINTS EARNED &amp; TOTAL COURSE POINTS</td>
<td>NaN</td>
<td>...</td>
<td>4.0</td>
<td>4.0</td>
<td>4.0</td>
<td>4.0</td>
<td>817.4501</td>
<td>13.624168</td>
<td>-0.724983</td>
<td>3.8</td>
<td>3.5</td>
<td>4.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">599</td>
<td>97272</td>
<td>OcnA-S216-01</td>
<td>2872</td>
<td>1733</td>
<td>0.603412</td>
<td>OcnA</td>
<td>S216</td>
<td>1</td>
<td>POINTS EARNED &amp; TOTAL COURSE POINTS</td>
<td>NaN</td>
<td>...</td>
<td>3.0</td>
<td>5.0</td>
<td>5.0</td>
<td>3.0</td>
<td>1638.4500</td>
<td>27.307500</td>
<td>-0.119048</td>
<td>4.4</td>
<td>3.0</td>
<td>5.000000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">600</td>
<td>97374</td>
<td>BioA-S216-01</td>
<td>8586</td>
<td>6978</td>
<td>0.812718</td>
<td>BioA</td>
<td>S216</td>
<td>1</td>
<td>POINTS EARNED &amp; TOTAL COURSE POINTS</td>
<td>NaN</td>
<td>...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>470.8000</td>
<td>7.846667</td>
<td>-0.980827</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">601</td>
<td>97386</td>
<td>BioA-S216-01</td>
<td>2761</td>
<td>1937</td>
<td>0.701557</td>
<td>BioA</td>
<td>S216</td>
<td>1</td>
<td>POINTS EARNED &amp; TOTAL COURSE POINTS</td>
<td>NaN</td>
<td>...</td>
<td>3.0</td>
<td>4.0</td>
<td>3.0</td>
<td>3.0</td>
<td>71.0166</td>
<td>1.183610</td>
<td>-1.275885</td>
<td>3.8</td>
<td>3.0</td>
<td>3.666667</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">602</td>
<td>97441</td>
<td>FrScA-S216-02</td>
<td>2607</td>
<td>2205</td>
<td>0.845800</td>
<td>FrScA</td>
<td>S216</td>
<td>2</td>
<td>POINTS EARNED &amp; TOTAL COURSE POINTS</td>
<td>NaN</td>
<td>...</td>
<td>5.0</td>
<td>5.0</td>
<td>2.0</td>
<td>4.0</td>
<td>208.6664</td>
<td>3.477773</td>
<td>-1.174293</td>
<td>4.4</td>
<td>4.0</td>
<td>2.000000</td>
</tr>
</tbody>
</table>

<p>603 rows × 30 columns</p>
</div>
</div>
</div>
</div>
<section id="your-turn" class="level4">
<h4 class="anchored" data-anchor-id="your-turn"><strong>👉 Your Turn</strong> <strong>⤵</strong></h4>
<p>❓ What rows and columns correspond with? How many students’ data do we possess? How do you know?</p>
<ul>
<li>YOUR RESPONSE HERE</li>
</ul>
<p>Now, let’s <strong>examine</strong> your data more systematically.</p>
<p>The first step in getting to know your data is to discover the different data types it contains.</p>
</section>
<section id="data-types" class="level4">
<h4 class="anchored" data-anchor-id="data-types">Data Types</h4>
<p>There are two types of data:</p>
<ol type="1">
<li><p><strong>Categorical</strong> that represents categories or groups that are distinct and separable. It usually consists of names, labels, or attributes and is represented by words or symbols.</p></li>
<li><p><strong>Numerical</strong> that represents qualities that can be measured and represented as numbers.</p></li>
</ol>
</section>
<section id="your-turn-1" class="level4">
<h4 class="anchored" data-anchor-id="your-turn-1"><strong>👉 Your Turn</strong> <strong>⤵</strong></h4>
<p>❓ Which of the columns in our dataset contain categorical and which contain numerical data?</p>
<ul>
<li>YOUR RESPONSE HERE</li>
</ul>
<p>Another way to explore the data types is by using .info() function.</p>
<div id="9d71384a" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>sci_data.info()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 603 entries, 0 to 602
Data columns (total 30 columns):
 #   Column                 Non-Null Count  Dtype  
---  ------                 --------------  -----  
 0   student_id             603 non-null    int64  
 1   course_id              603 non-null    object 
 2   total_points_possible  603 non-null    int64  
 3   total_points_earned    603 non-null    int64  
 4   percentage_earned      603 non-null    float64
 5   subject                603 non-null    object 
 6   semester               603 non-null    object 
 7   section                603 non-null    int64  
 8   Gradebook_Item         603 non-null    object 
 9   Grade_Category         0 non-null      float64
 10  FinalGradeCEMS         573 non-null    float64
 11  Points_Possible        603 non-null    int64  
 12  Points_Earned          511 non-null    float64
 13  Gender                 603 non-null    object 
 14  q1                     480 non-null    float64
 15  q2                     477 non-null    float64
 16  q3                     480 non-null    float64
 17  q4                     478 non-null    float64
 18  q5                     476 non-null    float64
 19  q6                     476 non-null    float64
 20  q7                     474 non-null    float64
 21  q8                     474 non-null    float64
 22  q9                     474 non-null    float64
 23  q10                    474 non-null    float64
 24  TimeSpent              598 non-null    float64
 25  TimeSpent_hours        598 non-null    float64
 26  TimeSpent_std          598 non-null    float64
 27  int                    527 non-null    float64
 28  pc                     528 non-null    float64
 29  uv                     528 non-null    float64
dtypes: float64(20), int64(5), object(5)
memory usage: 141.5+ KB</code></pre>
</div>
</div>
</section>
<section id="your-turn-2" class="level4">
<h4 class="anchored" data-anchor-id="your-turn-2"><strong>👉 Your Turn</strong> <strong>⤵</strong></h4>
<p>❓ Which data types do you see? Which ones are numerical and which are categorical?</p>
<ul>
<li>YOUR RESPONSE HERE</li>
</ul>
<p>If you look at “Grade_category”, you will notice that all values are NaNs or missing values which means we do not have any information about this variable (or parameter).</p>
</section>
<section id="your-turn-3" class="level4">
<h4 class="anchored" data-anchor-id="your-turn-3"><strong>👉 Your Turn</strong> <strong>⤵</strong></h4>
<p>❓ What other columns do you think have missing values? Why do you think so?<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></p>
<ul>
<li>YOUR RESPONSE HERE</li>
</ul>
</section>
</section>
</section>
<section id="wrangle" class="level2">
<h2 class="anchored" data-anchor-id="wrangle">2. WRANGLE</h2>
<p>By wrangle, we refer to the process of cleaning and processing data, and, in some cases, merging (or joining) data from multiple sources. Often, this part of the process is very (surprisingly) time-intensive! Wrangling your data into shape can itself be an important accomplishment!</p>
<section id="selecting-variables" class="level3">
<h3 class="anchored" data-anchor-id="selecting-variables">Selecting variables</h3>
<p>Recall from our Prepare section that we are interested the relationship between the time students spend on a course and their final course grade.</p>
<p>Run the following code chunk using <code>sci_data[[]]</code> and the names of the columns:</p>
<ul>
<li><p><code>FinalGradeCEMS</code> (i.e., students’ final grades on a 0-100 point scale)</p></li>
<li><p><code>TimeSpent</code> (i.e., the number of minutes they spent in the course’s learning management system)</p></li>
</ul>
<div id="15459962" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>sci_data[[<span class="st">'FinalGradeCEMS'</span>,<span class="st">'TimeSpent'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="4">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">FinalGradeCEMS</th>
<th data-quarto-table-cell-role="th">TimeSpent</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>93.453725</td>
<td>1555.1667</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>81.701843</td>
<td>1382.7001</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>88.487585</td>
<td>860.4335</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>81.852596</td>
<td>1598.6166</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>84.000000</td>
<td>1481.8000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">598</td>
<td>84.569444</td>
<td>817.4501</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">599</td>
<td>84.239532</td>
<td>1638.4500</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">600</td>
<td>12.352941</td>
<td>470.8000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">601</td>
<td>54.158289</td>
<td>71.0166</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">602</td>
<td>23.137698</td>
<td>208.6664</td>
</tr>
</tbody>
</table>

<p>603 rows × 2 columns</p>
</div>
</div>
</div>
</div>
</section>
<section id="cleaning-data" class="level3">
<h3 class="anchored" data-anchor-id="cleaning-data">Cleaning data</h3>
<p>We have already seen that there are missing values in our target columns. There is another way to do that by selecting the column and usung <code>.isnull()</code> function and adding <code>.sum()</code> function in the end to find the number of those values.</p>
<div id="38f5b912" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>sci_data.isnull().<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="5">
<pre><code>student_id                 0
course_id                  0
total_points_possible      0
total_points_earned        0
percentage_earned          0
subject                    0
semester                   0
section                    0
Gradebook_Item             0
Grade_Category           603
FinalGradeCEMS            30
Points_Possible            0
Points_Earned             92
Gender                     0
q1                       123
q2                       126
q3                       123
q4                       125
q5                       127
q6                       127
q7                       129
q8                       129
q9                       129
q10                      129
TimeSpent                  5
TimeSpent_hours            5
TimeSpent_std              5
int                       76
pc                        75
uv                        75
dtype: int64</code></pre>
</div>
</div>
</section>
<section id="handling-missing-values" class="level3">
<h3 class="anchored" data-anchor-id="handling-missing-values">Handling Missing Values</h3>
<p>There are several conventional ways to deal with the missing values.</p>
<ol type="1">
<li><p>We can <em>drop</em> those values and not use the entire row in which this element is missing.</p></li>
<li><p>We can substitute missing values with the <em>column mean</em> if the variance within a row is not very big.</p></li>
</ol>
<p>Below are the code chunks to execute both ways. Choose one you think is more appropriate as executing one excludes the use of the other and you will add changes to the dataset.</p>
<section id="drop-missing-values" class="level4">
<h4 class="anchored" data-anchor-id="drop-missing-values">Drop missing values</h4>
<div id="98b989ad" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co">#drop missing values</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>sci_data <span class="op">=</span> sci_data.dropna(subset <span class="op">=</span> [<span class="st">'FinalGradeCEMS'</span>,<span class="st">'TimeSpent'</span>])</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>sci_data.info()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
Index: 573 entries, 0 to 602
Data columns (total 30 columns):
 #   Column                 Non-Null Count  Dtype  
---  ------                 --------------  -----  
 0   student_id             573 non-null    int64  
 1   course_id              573 non-null    object 
 2   total_points_possible  573 non-null    int64  
 3   total_points_earned    573 non-null    int64  
 4   percentage_earned      573 non-null    float64
 5   subject                573 non-null    object 
 6   semester               573 non-null    object 
 7   section                573 non-null    int64  
 8   Gradebook_Item         573 non-null    object 
 9   Grade_Category         0 non-null      float64
 10  FinalGradeCEMS         573 non-null    float64
 11  Points_Possible        573 non-null    int64  
 12  Points_Earned          486 non-null    float64
 13  Gender                 573 non-null    object 
 14  q1                     465 non-null    float64
 15  q2                     462 non-null    float64
 16  q3                     465 non-null    float64
 17  q4                     463 non-null    float64
 18  q5                     461 non-null    float64
 19  q6                     461 non-null    float64
 20  q7                     459 non-null    float64
 21  q8                     460 non-null    float64
 22  q9                     459 non-null    float64
 23  q10                    460 non-null    float64
 24  TimeSpent              573 non-null    float64
 25  TimeSpent_hours        573 non-null    float64
 26  TimeSpent_std          573 non-null    float64
 27  int                    503 non-null    float64
 28  pc                     504 non-null    float64
 29  uv                     504 non-null    float64
dtypes: float64(20), int64(5), object(5)
memory usage: 138.8+ KB</code></pre>
</div>
</div>
</section>
<section id="substitute-with-column-means" class="level4">
<h4 class="anchored" data-anchor-id="substitute-with-column-means">Substitute with column means</h4>
<div id="b7a5deb1" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co">#substitute missing values with column means</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>mean_value_grade<span class="op">=</span>sci_data[<span class="st">'FinalGradeCEMS'</span>].mean()</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>mean_value_time<span class="op">=</span>sci_data[<span class="st">'TimeSpent'</span>].mean()</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>sci_data[<span class="st">'FinalGradeCEMS'</span>].fillna(value<span class="op">=</span>mean_value_grade, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>sci_data[<span class="st">'TimeSpent'</span>].fillna(value<span class="op">=</span>mean_value_time, inplace<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>/tmp/ipykernel_474/3740110450.py:5: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  sci_data['FinalGradeCEMS'].fillna(value=mean_value_grade, inplace=True)
/tmp/ipykernel_474/3740110450.py:6: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  sci_data['TimeSpent'].fillna(value=mean_value_time, inplace=True)</code></pre>
</div>
</div>
</section>
</section>
<section id="filtering-variables" class="level3">
<h3 class="anchored" data-anchor-id="filtering-variables">Filtering variables</h3>
<p>Next, let’s explore filtering variables. Check out and run the next chunk of code, imagining that we wish to filter our data to view only the rows associated with students who earned a final grade (as a percentage) of 70% - or higher and the ‘TimeSpent’ associated with it.</p>
<div id="97175f3a" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>sci_data[<span class="st">'TimeSpent'</span>][sci_data[<span class="st">'FinalGradeCEMS'</span>]<span class="op">&gt;</span><span class="dv">70</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="8">
<pre><code>0      1555.1667
1      1382.7001
2       860.4335
3      1598.6166
4      1481.8000
         ...    
592     244.3835
593    2264.4834
595    2676.7501
598     817.4501
599    1638.4500
Name: TimeSpent, Length: 438, dtype: float64</code></pre>
</div>
</div>
<section id="your-turn-4" class="level4">
<h4 class="anchored" data-anchor-id="your-turn-4"><strong>👉 Your Turn</strong> <strong>⤵</strong></h4>
<p>❓ How much time do you need to spend to get the grade higher than 70%? Is there a consistent pattern?</p>
<ul>
<li>YOUR RESPONSE HERE</li>
</ul>
</section>
</section>
</section>
<section id="explore" class="level2">
<h2 class="anchored" data-anchor-id="explore">3. EXPLORE</h2>
<p>Exploratory data analysis, or exploring your data, involves processes of <em>describing</em> your data (such as by calculating the means and standard deviations of numeric variables, or counting the frequency of categorical variables) and, often, visualizing your data. As we’ll learn in later labs, the explore phase can also involve the process of “feature engineering,” or creating new variables within a dataset [@krumm2018].</p>
<p>In this section, we’ll quickly pull together some basic stats and introduce you to a basic data visualization.</p>
<section id="summary-statistics" class="level3">
<h3 class="anchored" data-anchor-id="summary-statistics">Summary Statistics</h3>
<p>Let’s repurpose what we learned from our wrangle section to select just a few variables and quickly gather some descriptive statistics to see where the data is centered, its values to identify trends by using <code>.describe()</code> method.</p>
<div id="9dc035d7" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>sci_data.describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="9">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">student_id</th>
<th data-quarto-table-cell-role="th">total_points_possible</th>
<th data-quarto-table-cell-role="th">total_points_earned</th>
<th data-quarto-table-cell-role="th">percentage_earned</th>
<th data-quarto-table-cell-role="th">section</th>
<th data-quarto-table-cell-role="th">Grade_Category</th>
<th data-quarto-table-cell-role="th">FinalGradeCEMS</th>
<th data-quarto-table-cell-role="th">Points_Possible</th>
<th data-quarto-table-cell-role="th">Points_Earned</th>
<th data-quarto-table-cell-role="th">q1</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">q7</th>
<th data-quarto-table-cell-role="th">q8</th>
<th data-quarto-table-cell-role="th">q9</th>
<th data-quarto-table-cell-role="th">q10</th>
<th data-quarto-table-cell-role="th">TimeSpent</th>
<th data-quarto-table-cell-role="th">TimeSpent_hours</th>
<th data-quarto-table-cell-role="th">TimeSpent_std</th>
<th data-quarto-table-cell-role="th">int</th>
<th data-quarto-table-cell-role="th">pc</th>
<th data-quarto-table-cell-role="th">uv</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">count</td>
<td>573.000000</td>
<td>573.000000</td>
<td>573.000000</td>
<td>573.000000</td>
<td>573.000000</td>
<td>0.0</td>
<td>573.000000</td>
<td>573.000000</td>
<td>486.000000</td>
<td>465.000000</td>
<td>...</td>
<td>459.000000</td>
<td>460.000000</td>
<td>459.000000</td>
<td>460.000000</td>
<td>573.000000</td>
<td>573.000000</td>
<td>573.000000</td>
<td>503.000000</td>
<td>504.000000</td>
<td>504.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">mean</td>
<td>86231.424084</td>
<td>4303.863874</td>
<td>3267.818499</td>
<td>0.758350</td>
<td>1.364747</td>
<td>NaN</td>
<td>77.202655</td>
<td>78.235602</td>
<td>69.417905</td>
<td>4.290323</td>
<td>...</td>
<td>3.910675</td>
<td>4.284783</td>
<td>3.492375</td>
<td>4.104348</td>
<td>1873.849317</td>
<td>31.230822</td>
<td>0.054687</td>
<td>4.215540</td>
<td>3.603009</td>
<td>3.730974</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">std</td>
<td>10392.690030</td>
<td>2305.719003</td>
<td>1824.242324</td>
<td>0.089552</td>
<td>0.675195</td>
<td>NaN</td>
<td>22.225076</td>
<td>169.019143</td>
<td>145.754144</td>
<td>0.685135</td>
<td>...</td>
<td>0.821833</td>
<td>0.688678</td>
<td>0.985399</td>
<td>0.937004</td>
<td>1335.608192</td>
<td>22.260137</td>
<td>0.985739</td>
<td>0.595033</td>
<td>0.644908</td>
<td>0.703211</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">min</td>
<td>43146.000000</td>
<td>840.000000</td>
<td>672.000000</td>
<td>0.466447</td>
<td>1.000000</td>
<td>NaN</td>
<td>0.000000</td>
<td>5.000000</td>
<td>0.000000</td>
<td>1.000000</td>
<td>...</td>
<td>1.000000</td>
<td>1.000000</td>
<td>1.000000</td>
<td>1.000000</td>
<td>0.700000</td>
<td>0.011667</td>
<td>-1.327782</td>
<td>2.000000</td>
<td>1.500000</td>
<td>1.000000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">25%</td>
<td>85644.000000</td>
<td>2832.000000</td>
<td>2059.000000</td>
<td>0.704907</td>
<td>1.000000</td>
<td>NaN</td>
<td>71.251142</td>
<td>10.000000</td>
<td>7.600000</td>
<td>4.000000</td>
<td>...</td>
<td>3.000000</td>
<td>4.000000</td>
<td>3.000000</td>
<td>4.000000</td>
<td>943.066900</td>
<td>15.717782</td>
<td>-0.632272</td>
<td>3.900000</td>
<td>3.000000</td>
<td>3.333333</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">50%</td>
<td>88340.000000</td>
<td>3641.000000</td>
<td>2777.000000</td>
<td>0.776543</td>
<td>1.000000</td>
<td>NaN</td>
<td>84.569444</td>
<td>10.000000</td>
<td>10.000000</td>
<td>4.000000</td>
<td>...</td>
<td>4.000000</td>
<td>4.000000</td>
<td>4.000000</td>
<td>4.000000</td>
<td>1598.616600</td>
<td>26.643610</td>
<td>-0.148447</td>
<td>4.200000</td>
<td>3.500000</td>
<td>3.791667</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">75%</td>
<td>92733.000000</td>
<td>5083.000000</td>
<td>3882.000000</td>
<td>0.826181</td>
<td>2.000000</td>
<td>NaN</td>
<td>92.099323</td>
<td>30.000000</td>
<td>26.535000</td>
<td>5.000000</td>
<td>...</td>
<td>4.500000</td>
<td>5.000000</td>
<td>4.000000</td>
<td>5.000000</td>
<td>2454.333200</td>
<td>40.905553</td>
<td>0.483111</td>
<td>4.700000</td>
<td>4.000000</td>
<td>4.166667</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">max</td>
<td>97441.000000</td>
<td>15552.000000</td>
<td>12208.000000</td>
<td>0.910640</td>
<td>4.000000</td>
<td>NaN</td>
<td>100.000000</td>
<td>935.000000</td>
<td>828.200000</td>
<td>5.000000</td>
<td>...</td>
<td>5.000000</td>
<td>5.000000</td>
<td>5.000000</td>
<td>5.000000</td>
<td>8870.883300</td>
<td>147.848055</td>
<td>5.218815</td>
<td>5.000000</td>
<td>5.000000</td>
<td>5.000000</td>
</tr>
</tbody>
</table>

<p>8 rows × 25 columns</p>
</div>
</div>
</div>
</div>
<section id="your-turn-5" class="level4">
<h4 class="anchored" data-anchor-id="your-turn-5"><strong>👉 Your Turn</strong> <strong>⤵</strong></h4>
<p>❓ What do you notice about this dataset? Which columns are most important for our research question? What do you wonder?</p>
<ul>
<li>YOUR RESPONSE HERE</li>
</ul>
</section>
</section>
<section id="data-visualization" class="level3">
<h3 class="anchored" data-anchor-id="data-visualization">Data Visualization</h3>
<p>Data visualization is an extremely common practice in Learning Analytics, especially in the use of data dashboards. Data visualization involves graphically representing one or more variables with the goal of discovering patterns in data. These patterns may help us to answer research questions or generate new questions about our data, to discover relationships between and among variables, and to create or select features for data modeling.</p>
<section id="the-graphing-workflow" class="level4">
<h4 class="anchored" data-anchor-id="the-graphing-workflow">The Graphing Workflow</h4>
<p>At it’s core, you can create some very simple but attractive graphs with just a couple lines of code. Matplotlib follows the common workflow for making graphs. To make a graph, you simply:</p>
<ol type="1">
<li><p>Start the graph with <code>plt</code> and include type of graph `.hist()’in our case, and add the data as an argument;</p></li>
<li><p>“Add” elements to the graph using the <code>bins =</code>, or changing the color;</p></li>
<li><p>Select variables to graph on each axis with the <code>xlabel()</code> argument.</p></li>
</ol>
<p>Let’s give it a try by creating a simple histogram of our <code>FinalGradeCEMS</code> variable. The code below creates a histogram, or a distribution of the values, in this case for students’ final grades. Go ahead and run it:</p>
<div id="acf01016" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>plt.hist(sci_data[<span class="st">'FinalGradeCEMS'</span>], bins <span class="op">=</span> <span class="dv">30</span>, color <span class="op">=</span><span class="st">"skyblue"</span>)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'FinalGradeCEMS'</span>)</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="laser-intro%20lab%20in%20python_files/figure-html/cell-11-output-1.png" width="566" height="429" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="your-turn-6" class="level4">
<h4 class="anchored" data-anchor-id="your-turn-6"><strong>👉 Your Turn</strong> <strong>⤵</strong></h4>
<p>Now use the code chunk below to visualize the distribution of another variable in the data, specifically <code>TimeSpent</code>. You can do so by swapping out the variable <code>FinalGradeCEMS</code> with our new variable. Also, change the color to one of your choosing; consider this list of valid color names here: <a href="https://colab.research.google.com/corgiredirector?site=https%3A%2F%2Fmatplotlib.org%2Fstable%2Fgallery%2Fcolor%2Fnamed_colors.html">https://matplotlib.org/stable/gallery/color/named_colors.html</a></p>
<p><strong>Tip:</strong> There is no shame in copying and pasting code from above. Remember, reproducible research is also intended to help you save time!</p>
<div id="43e841a2" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Your code goes here:</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="scatterplots" class="level4">
<h4 class="anchored" data-anchor-id="scatterplots">Scatterplots</h4>
<p>Finally, let’s create a scatter plot for the relationship between these two variables. Scatterplots are most useful for displaying the relationship between two continuous variables. Change type of graph by typing <code>.scatter()</code>. You can also choose the size of the marker and color.</p>
</section>
<section id="your-turn-7" class="level4">
<h4 class="anchored" data-anchor-id="your-turn-7"><strong>👉 Your Turn</strong> <strong>⤵</strong></h4>
<p>Complete the code chunk below to create a simple scatterplot with <code>TimeSpent</code> on the x axis and <code>FinalGradeCEMS</code> on the y axis.</p>
<div id="c10ab877" class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>plt.scatter(x <span class="op">=</span> sci_data[<span class="st">'TimeSpent'</span>], y <span class="op">=</span> sci_data[<span class="st">'FinalGradeCEMS'</span>], marker<span class="op">=</span><span class="st">"."</span>, color <span class="op">=</span> <span class="st">'#88c999'</span>)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'TimeSpent'</span>)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'FinalGradeCEMS'</span>)</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="laser-intro%20lab%20in%20python_files/figure-html/cell-13-output-1.png" width="593" height="429" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Well done! As you can see, there appears to be a positive relationship between the time students spend in the online course and their final grade!</p>
</section>
</section>
</section>
<section id="model" class="level2">
<h2 class="anchored" data-anchor-id="model">4. MODEL</h2>
<p>“Model” is one of those terms that has many different meanings. For our purpose, we refer to the process of simplifying and summarizing our data. Thus, models can take many forms; calculating means represents a legitimate form of modeling data, as does estimating more complex models, including linear regressions, and models and algorithms associated with machine learning tasks. For now, we’ll run a base linear regression model to further examine the relationship between <code>TimeSpent</code> and <code>FinalGradeCEMS</code>.</p>
<p>We’ll dive much deeper into modeling in subsequent learning labs, but for now let’s see if there is a statistically significant relationship between students’ final grades, <code>FinaGradeCEMS</code>, and the <code>TimeSpent</code> on the course.</p>
<p>We need to do some transformations of our two parameters before we can run the model, in our case it is linear regression. We encode the data from the two columns <code>FinaGradeCEMS</code> and <code>TimeSpent</code> into the format our scikit-learn linear regression model could understand.</p>
<p>*Note that on the y-axis we put a dependent variable, the one we want to predict and x-axis is for and independent, or exploratory variable.</p>
<p>We then train (or fit) or model to the data we selected to find a line of best fit.</p>
<p>We also added the code to visualize our prediction in the scatter plot and changed its color to understand better what is being predicted.</p>
<div id="01f68eb2" class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co">#dependent variable is what you want to predict - y axis; independent(exploratory) variable</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>X <span class="op">=</span> np.array(sci_data[<span class="st">'TimeSpent'</span>]).reshape(<span class="op">-</span><span class="dv">1</span>, <span class="dv">1</span>)</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> np.array(sci_data[<span class="st">'FinalGradeCEMS'</span>]).reshape(<span class="op">-</span><span class="dv">1</span>, <span class="dv">1</span>)</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>reg <span class="op">=</span> LinearRegression().fit(X, y)</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>plt.scatter(X, y, marker<span class="op">=</span><span class="st">"."</span>, color <span class="op">=</span> <span class="st">'#88c999'</span>)</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>plt.plot(X, reg.predict(X),color<span class="op">=</span><span class="st">'hotpink'</span>)</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'TimeSpent'</span>)</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'FinalGradeCEMS'</span>)</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="laser-intro%20lab%20in%20python_files/figure-html/cell-14-output-1.png" width="593" height="429" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p>We can now use our model to predict the grade depending on the time spent studying.</p>
<div id="fbed735e" class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming 'new_data' is a Pandas DataFrame with a 'TimeSpent' column for prediction</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>new_data <span class="op">=</span> pd.DataFrame({<span class="st">'TimeSpent'</span>: [<span class="dv">10</span>, <span class="dv">15</span>, <span class="dv">20</span>]})</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Extracting the 'TimeSpent' values from 'new_data'</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>X_new <span class="op">=</span> np.array(new_data[<span class="st">'TimeSpent'</span>]).reshape(<span class="op">-</span><span class="dv">1</span>, <span class="dv">1</span>)</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Use the predict method to obtain predictions</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>predicted_grades <span class="op">=</span> reg.predict(X_new)</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the predicted grades</span></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(predicted_grades)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[65.86931552]
 [65.89971856]
 [65.93012161]]</code></pre>
</div>
</div>
<div id="4bb036ef" class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(reg.predict([[<span class="dv">4000</span>]]))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[90.13094602]]</code></pre>
</div>
</div>
<section id="your-turn-8" class="level4">
<h4 class="anchored" data-anchor-id="your-turn-8"><strong>👉 Your Turn</strong> <strong>⤵</strong></h4>
<p>Change the number of time a student is spending and see how the predicted grade changes.</p>
<p>❓How much time do you need to spend studying to get an A?</p>
<div id="89b0af5a" class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co">#print(reg.predict([['YOUR CODE HERE']]))</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We can also add another variable to our model to see how it would influence the prediction.</p>
<p>*Note, in Python you can only add numerical data values to your models, so be careful when choosing.</p>
<p>There are ways to transform your categorical values into numerical that we will introduce later in the course.</p>
<p>Run the cells below to train the model and compare its prediction to the previous one.</p>
<div id="ce73a3aa" class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>X <span class="op">=</span> np.array(sci_data[<span class="st">'TimeSpent'</span>],sci_data[<span class="st">'section'</span>]).reshape(<span class="op">-</span><span class="dv">1</span>, <span class="dv">1</span>)</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> np.array(sci_data[<span class="st">'FinalGradeCEMS'</span>]).reshape(<span class="op">-</span><span class="dv">1</span>, <span class="dv">1</span>)</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>reg_2 <span class="op">=</span> LinearRegression().fit(X, y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="082a5c43" class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>reg_2.predict([[<span class="dv">4000</span>]])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="18">
<pre><code>array([[90.13362775]])</code></pre>
</div>
</div>
<p>As we can see the predicted grade is a bit better with the two parameters.</p>
</section>
<section id="your-turn-9" class="level4">
<h4 class="anchored" data-anchor-id="your-turn-9"><strong>👉 Your Turn</strong> <strong>⤵</strong></h4>
<p>Compare the two model predictions by altering the time spent studying.</p>
<p>Change the variable <code>section</code> to another one that you think might be related to the final grade.</p>
<div id="1ea1bcae" class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co">#X = np.array(sci_data['TimeSpent'],sci_data['YOUR CODE HERE']).reshape(-1, 1)</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="co">#y = np.array(sci_data['FinalGradeCEMS']).reshape(-1, 1)</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="co">#reg_3 = LinearRegression().fit(X, y)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="25817bce" class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co">#reg_3.predict([['YOUR CODE HERE']])</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="communicate" class="level2">
<h2 class="anchored" data-anchor-id="communicate">5. COMMUNICATE</h2>
<p>The final step in the workflow/process is sharing the results of your analysis with wider audience. Krumm et al.&nbsp;@krumm2018 have outlined the following 3-step process for communicating with education stakeholders findings from an analysis:</p>
<ol type="1">
<li><p><strong>Select.</strong> Communicating what one has learned involves selecting among those analyses that are most important and most useful to an intended audience, as well as selecting a form for displaying that information, such as a graph or table in static or interactive form, i.e.&nbsp;a “data product.”</p></li>
<li><p><strong>Polish</strong>. After creating initial versions of data products, research teams often spend time refining or polishing them, by adding or editing titles, labels, and notations and by working with colors and shapes to highlight key points.</p></li>
<li><p><strong>Narrate.</strong> Writing a narrative to accompany the data products involves, at a minimum, pairing a data product with its related research question, describing how best to interpret the data product, and explaining the ways in which the data product helps answer the research question and might be used to inform new analyses or a “change idea” for improving student learning.</p></li>
</ol>
<p>In later Learning Labs, you will have an opportunity to create a simple “data product” designed to illustrate some insights gained from your analysis and ideally highlight an action step or change idea that can be used to improve learning or the contexts in which learning occurs.</p>
<p>For now, we will wrap up this case study by converting our work into a webpage that can be used to communicate your learning and demonstrate some of your new Python skills.</p>
</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>We can see that there are totally 603 rows in each column and if we see that non-null count is lower, it means there are missing values.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>